@model Reimbursement_Web_System.Models.Ticket
@using Reimbursement_Web_System.Models

@{ ViewBag.Title = ViewBag.PageTitle; }

<h2>@ViewBag.PageTitle</h2>

@using (Html.BeginForm("SaveTicket", "User"))
{
@Html.HiddenFor(model => model.CRF)
                <div class="form-horizontal">
                    <hr />
                    <dl class="dl-horizontal">
                        @Html.HiddenFor(model => model.CRF)
                        <dt>
                            @Html.LabelFor(model => model.DateFiled)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.DateFiled)
                            @Html.HiddenFor(model => model.DateFiled)
                        </dd>
                        <dt>
                            @Html.LabelFor(model => model.Purpose)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Purpose)
                            @Html.HiddenFor(model => model.Purpose)
                        </dd>

                        <dt>
                            @Html.LabelFor(model => model.Office)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Office)
                            @Html.HiddenFor(model => model.Office)
                        </dd>
                    </dl>
                    <div class="form-group">
                        <div style="display: flex; justify-content: space-between">
                            <div>
                                <h3>Reimbursement</h3>
                            </div>
                        </div>
                        <table class="table table-striped table-condensed">
                            <thead>
                                <tr>
                                    <th>Row #</th>
                                    <th>Date</th>
                                    <th>Amount</th>
                                    <th>Nature of Expenditure</th>
                                    <th>Approve</th>
                                </tr>
                            </thead>
                            <tbody>
                                @{decimal amount = 0; }
                                @{int rowCount = 1; }
                                @if (Model.Reimbursement != null)
                                {
                                    for (int i = 0; i < Model.Reimbursement.Count(); i++)
                                    {
                                        Html.HiddenFor(model => Model.Reimbursement[i].Id);
                                        Html.HiddenFor(model => Model.Reimbursement[i].Date);
                                        Html.HiddenFor(model => Model.Reimbursement[i].Amount);
                                        Html.HiddenFor(model => Model.Reimbursement[i].NatureOfExpenditure);
                                <tr>
                                    <td>@rowCount</td>
                                    <td>@Model.Reimbursement[i].Date.ToString("MM/dd/yyyy")</td>
                                    <td>@Model.Reimbursement[i].Amount.ToString("0.00")</td>
                                    <td>@Model.Reimbursement[i].NatureOfExpenditure</td>
                                    <td>
                                        @{ if (Model.Reimbursement[i].Status == true)
                                            {
                                <input type="button" id="approve+@i" disabled name="@i" onclick="approve_click(this.name)" class="btn btn-success approved2" value="Approve" />
                                                            <input type="button" disabled id="reject+@i" name="@i" onclick="reject_click(this.name)" class="btn rejectbtn2" value="Reject" /> }
                                                        else
                                                        {
                                <input type="button" id="approve+@i" name="@i" disabled onclick="approve_click(this.name)" class="btn approvebtn" value="Approve" />
                                                            <input type="button" disabled id="reject+@i" name="@i" onclick="reject_click(this.name)" class="btn btn-success rejected2" value="Reject" /> } }

                                    </td>
                                </tr>
rowCount++;
                                                                                                                amount = @Model.Reimbursement[i].Amount + amount;
                                                                                                            }
                                                                                                        }
                            </tbody>
                        </table>
                    </div>
                    <div>
                        @{
                                            <h4>Total Amount: @amount.ToString("0.00")</h4> }
                        <br />
                        <br />
                    </div>
                    <div>
                        @foreach (var item in Model.Medias)
                        {
        <img src="@item.ImagePath" style="height:200px;width:200px;" />}
                        <br />
                        <br />
                    </div>
                    <div>
                        <hr />
                        <div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        @Html.LabelFor(model => model.DirectorRemarks, htmlAttributes: new { @class = "col-md-2" })
                                        <div class="col-md-10">
                                            @Html.DisplayFor(model => model.DirectorRemarks, new { htmlAttributes = new { @class = "form-control" } })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        @Html.LabelFor(model => model.DirectorInternalComments, htmlAttributes: new { @class = "col-md-2" })
                                        <div class="col-md-10">
                                            @Html.DisplayFor(model => model.DirectorInternalComments, new { htmlAttributes = new { @class = "form-control" } })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        @Html.LabelFor(model => model.DirectorRemarks, htmlAttributes: new { @class = "col-md-2" })
                                        <div class="col-md-10">
                                            @Html.DisplayFor(model => model.DirectorRemarks, new { htmlAttributes = new { @class = "form-control" } })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        @Html.LabelFor(model => model.DirectorInternalComments, htmlAttributes: new { @class = "col-md-2" })
                                        <div class="col-md-10">
                                            @Html.DisplayFor(model => model.DirectorInternalComments, new { htmlAttributes = new { @class = "form-control" } })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        @Html.LabelFor(model => model.HSURemarks, htmlAttributes: new { @class = "col-md-2" })
                                        <div class="col-md-10">
                                            @Html.DisplayFor(model => model.HSURemarks, new { htmlAttributes = new { @class = "form-control" } })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        @Html.LabelFor(model => model.HSUInternalComments, htmlAttributes: new { @class = "col-md-2" })
                                        <div class="col-md-10">
                                            @Html.DisplayFor(model => model.HSUInternalComments, new { htmlAttributes = new { @class = "form-control" } })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        @Html.LabelFor(model => model.HRRemarks, htmlAttributes: new { @class = "col-md-2" })
                                        <div class="col-md-10">
                                            @Html.DisplayFor(model => model.HRRemarks, new { htmlAttributes = new { @class = "form-control" } })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        @Html.LabelFor(model => model.HRInternalComments, htmlAttributes: new { @class = "col-md-2" })
                                        <div class="col-md-10">
                                            @Html.DisplayFor(model => model.HRInternalComments, new { htmlAttributes = new { @class = "form-control" } })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        @Html.LabelFor(model => model.SDASRemarks, htmlAttributes: new { @class = "col-md-2" })
                                        <div class="col-md-10">
                                            @Html.DisplayFor(model => model.SDASRemarks, new { htmlAttributes = new { @class = "form-control" } })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        @Html.LabelFor(model => model.SDASInternalComments, htmlAttributes: new { @class = "col-md-2" })
                                        <div class="col-md-10">
                                            @Html.DisplayFor(model => model.SDASInternalComments, new { htmlAttributes = new { @class = "form-control" } })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        @Html.LabelFor(model => model.FinanceRemarks, htmlAttributes: new { @class = "col-md-2" })
                                        <div class="col-md-10">
                                            @Html.DisplayFor(model => model.FinanceRemarks, new { htmlAttributes = new { @class = "form-control" } })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        @Html.LabelFor(model => model.FinanceInternalComments, htmlAttributes: new { @class = "col-md-2" })
                                        <div class="col-md-10">
                                            @Html.DisplayFor(model => model.FinanceInternalComments, new { htmlAttributes = new { @class = "form-control" } })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>}
<style>

    /***********Status ********/
    .btn.btn-success.approved2 {
        pointer-events: none;
        background: #399d19;
    }

    .btn.btn-success.rejected2 {
        pointer-events: none;
        background: red;
        border: solid 2px red;
        color: white;
    }

    .btn.rejectbtn2 {
        background: white;
        border: solid 2px red;
        color: red;
        pointer-events: All;
    }

    .btn.approvebtn {
        background: white;
        border: solid 2px #399d19;
        color: #399d19;
        pointer-events: all;
    }
</style>